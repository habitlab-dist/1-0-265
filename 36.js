window.habitlab_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"./src/components/habitlab-netflix-stop-autoplay.deps.js":function(e,t,o){const{import_dom_modules:i}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/habitlab-paper-item/habitlab-paper-item.deps.js"),o("./src/components/habitlab-logo-v2.deps.js"),o("./src/components/goal-progress-message.deps.js"),o("./src/bower_components/habitlab-paper-button/habitlab-paper-button.deps.js"),o("./src/bower_components/habitlab-paper-dialog/habitlab-paper-dialog.deps.js"),o("./src/bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.deps.js"),o("./src/bower_components/habitlab-paper-progress/habitlab-paper-progress.deps.js"),o("./src/components/call-to-action-button.deps.js"),o("./src/components/habitlab-time-selector-dialog.deps.js"),i(o("./src/components/habitlab-netflix-stop-autoplay.html"),"components/habitlab-netflix-stop-autoplay.html"),o("./src/components/habitlab-netflix-stop-autoplay.js")},"./src/components/habitlab-netflix-stop-autoplay.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/habitlab-paper-item/habitlab-paper-item.html> <link rel=import href=habitlab-logo-v2.html> <link rel=import href=goal-progress-message.html> <link rel=import href=../bower_components/habitlab-paper-button/habitlab-paper-button.html> <link rel=import href=../bower_components/habitlab-paper-dialog/habitlab-paper-dialog.html> <link rel=import href=../bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.html> <link rel=import href=../bower_components/habitlab-paper-progress/habitlab-paper-progress.html> <link rel=import href=call-to-action-button.html> <link rel=import href=habitlab-time-selector-dialog.html> <habitlab-dom-module id=habitlab-netflix-stop-autoplay> <template> <habitlab-custom-style> <style is=habitlab-custom-style>:host{position:fixed;display:block;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:35000000;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;font-size:12px;--habitlab-paper-input-container-input:{font-size:28px;text-indent:20px};}.contentContainer{width:100% margin-top: 30px;align-self:center}.titleText{font-size:1.5em;text-align:center}#messagetext{font-size:1.3em;text-align:center}.whiteDiv{position:fixed;display:flex;flex-direction:column;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0);opacity:1;z-index:35000000}.okButton{cursor:pointer;padding:5px;background-color:#415D67;color:#fff;font-size:14px;box-shadow:2px 2px 2px #888}.closeTabButton{cursor:pointer;padding:5px;margin-top:10px;margin-bottom:10px;font-size:14px}.message-block{padding-top:10px;font-size:30px;align-self:center}#paperprogress{display:none;margin-bottom:10px}#title{padding-top:0;padding-bottom:0;margin:auto;margin-top:10px;margin-bottom:0;color:#fff;font-size:30px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}#time{padding-top:0;padding-bottom:0;color:#000;font-size:40px;font-family:"Lucidia Grande",HelveticaNeue-Light,sans-serif}#fact-box{background-color:rgba(149,203,238,.95);margin:auto;margin-top:50px;margin-right:350px;margin-left:350px;padding:2px}#link{font-size:12px;font-family:Verdana,Geneva,Tahoma,HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}#block_container{text-align:center}#min,#playings,#spent,#today,#watching{display:inline}</style> </habitlab-custom-style> <div class=whiteDiv> <template is=habitlab-dom-if if={{show_netflix_message}}> <netflix-articles class=message-block></netflix-articles> </template> <div id=fact-box> <center><p id=title> HabitLab has disabled autoplay. </p> </center> <div id=block_container style=margin:auto;margin-top:5px;margin-bottom:5px> <div id=today class=timer-text style=text-align:left;color:#415D67;font-size:20px>Today on</div> <div id=playings style=display:inline-block;margin-right:5px;margin-left:5px;color:#415D67> <div style=font-size:40px>{{playings}}</div> <div>playings</div> </div> <div id=spent class=timer-text style=color:#415D67;font-size:20px>you have spent</div> <div id=min style=display:inline-block;margin-right:5px;margin-left:5px;color:#415D67> <div style=font-size:40px>{{minutes}}</div> <div>mins</div> </div> <div id=watching class=timer-text style=text-align:left;color:#415D67;font-size:20px>watching.</div> </div> <div style=width:200px;height:48px;text-align:center;margin:auto;margin:auto;margin-bottom:15px;margin-top:15px;padding-top:10px;padding-bottom:18px;color:#415D67;background-color:rgba(255,255,255,.8);border-radius:8px;padding-left:9px;padding-right:9px;padding-bottom:2px;font-size:28px id=time_display></div> <center><habitlab-paper-button id=okbutton class=okButton on-click=buttonclicked>Continue Watching</habitlab-paper-button></center> <div style=display:flex;flex-direction:row;justify-content:space-between;align-items:center;align-content:center;height:35px;width:100%;margin:auto;margin-top:20px;margin-bottom:0 ;> <habitlab-logo-v2 style=padding-left:5px;padding-top:9px id=logo></habitlab-logo-v2> <center><call-to-action-button id=closetabbutton class=closeTabButton></call-to-action-button></center> <img style=width:33px;padding-left:72px;padding-right:5px;padding-top:15px src={{logo_url}}> </div> <p></p> </div> <p></p> </div> </template> <script src=habitlab-netflix-stop-autoplay.js><\/script> </habitlab-dom-module>'},"./src/components/habitlab-netflix-stop-autoplay.js":function(e,t,o){const i=o("./node_modules/jquery/dist/jquery.js"),n=o("./node_modules/moment/moment.js"),{polymer_ext:s}=o("./src/libs_frontend/polymer_utils.ls"),{close_selected_tab:r}=o("./src/generated_libs/libs_frontend/tab_utils.js"),{url_to_domain:p}=o("./src/libs_common/domain_utils.ls"),{get_minutes_spent_on_domain_today:a,get_visits_to_domain_today:l}=o("./src/libs_common/time_spent_utils.ls"),{log_action:c}=o("./src/libs_frontend/intervention_log_utils.ls"),{start_episode_tracker:m,get_num_episodes_watched:d}=o("./src/libs_frontend/netflix_utils.js");Polymer({is:"habitlab-netflix-stop-autoplay",properties:{btnTxt:{type:String},btnTxt2:{type:String},minutes:{type:Number},titleText:{type:String},playings:{type:Number},intervention:{type:String},messageText:{type:String},randomizer:{type:Boolean,value:0==Math.floor(2*Math.random())},exit_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/exit.png")},logo_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/logo.png")},alarm_image_url:{type:String,value:chrome.runtime.getURL("interventions/netflix/stop_autoplay/alarm_clock.png")},show_netflix_message:{type:Boolean,computed:"compute_show_workpages_message(show_progress_message, randomizer)"},show_rss_message:{type:Boolean,computed:"compute_show_rss_message(show_progress_message, randomizer)"},show_progress_message:{type:Boolean,value:!1},show_workpages_message:{type:Boolean,computed:"compute_show_workpages_message(show_progress_message, randomizer)"}},listeners:{disable_intervention:"disableIntervention",show_button:"showButton"},compute_show_rss_message:function(e,t){return!e&&t},compute_show_workpages_message:function(e,t){return!e&&!t},show_time_selector:function(){let e=document.createElement("habitlab-time-selector-dialog");document.body.appendChild(e),e.show()},buttonclicked:function(){console.log("ok button clicked in polymer during loading"),c({negative:"Continuted to site."}),console.log("video should continue"),document.querySelector("video").play(),i(this).remove()},hideButton:function(){this.$.okbutton.hidden=!0,this.$.okbutton.style.display="none"},showProgress:function(){this.$.paperprogress.style.display="block"},incrementProgress:function(){this.$.paperprogress.value+=1},showButton:function(){this.$.okbutton.hidden=!1,this.$.okbutton.style.display="inline-flex",this.$.closetabbutton.style.display="inline-flex"},ready:async function(){this.$.closetabbutton.text=this.btnTxt2,this.$.time_display.innerText=n().format("hh:mm A");let e=p(window.location.href);this.minutes=await a(e),m(),this.playings=d()},disableIntervention:function(){i(this).remove()},attributeChanged:function(){this.$.okbutton.textContent=this.btnTxt,this.$.closetabbutton.text=this.btnTxt2,this.$.messagetext.textContent=this.messageText,this.$.titletext.textContent=this.titleText}})},"./src/components/habitlab-time-selector-dialog.deps.js":function(e,t,o){const{import_dom_modules:i}=o("./src/libs_frontend/dom_utils.ls");o("./src/bower_components/polymer/polymer.deps.js"),o("./src/bower_components/habitlab-paper-item/habitlab-paper-item.deps.js"),o("./src/components/goal-progress-message.deps.js"),o("./src/bower_components/habitlab-paper-button/habitlab-paper-button.deps.js"),o("./src/bower_components/habitlab-paper-dialog/habitlab-paper-dialog.deps.js"),o("./src/bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.deps.js"),o("./src/bower_components/habitlab-paper-progress/habitlab-paper-progress.deps.js"),o("./src/components/call-to-action-button.deps.js"),i(o("./src/components/habitlab-time-selector-dialog.html"),"components/habitlab-time-selector-dialog.html"),o("./src/components/habitlab-time-selector-dialog.js")},"./src/components/habitlab-time-selector-dialog.html":function(e,t){e.exports='<link rel=import href=../bower_components/polymer/polymer.html> <link rel=import href=../bower_components/habitlab-paper-item/habitlab-paper-item.html> <link rel=import href=goal-progress-message.html> <link rel=import href=../bower_components/habitlab-paper-button/habitlab-paper-button.html> <link rel=import href=../bower_components/habitlab-paper-dialog/habitlab-paper-dialog.html> <link rel=import href=../bower_components/habitlab-paper-time-picker/habitlab-paper-time-picker.html> <link rel=import href=../bower_components/habitlab-paper-progress/habitlab-paper-progress.html> <link rel=import href=call-to-action-button.html> <habitlab-dom-module id=habitlab-time-selector-dialog> <template> <style></style> <habitlab-paper-dialog id=start-dialog class=habitlab-paper-time-picker-dialog modal on-iron-overlay-closed=dismiss_dialog> <habitlab-paper-time-picker id=start-picker time="9:00 AM"></habitlab-paper-time-picker> <div class=buttons> <habitlab-paper-button dialog-dismiss>CANCEL</habitlab-paper-button> <habitlab-paper-button dialog-confirm>OK</habitlab-paper-button> </div> </habitlab-paper-dialog> </template> <script src=habitlab-time-selector-dialog.js><\/script> </habitlab-dom-module>'},"./src/components/habitlab-time-selector-dialog.js":function(e,t){Polymer({is:"habitlab-time-selector-dialog",properties:{},show:function(){this.$$("#start-dialog").toggle(),this.$$("#start-dialog").style.zIndex=999999999999}})},"./src/libs_frontend/netflix_utils.js":function(e,t){var o=0,i="",n=null;e.exports={start_episode_tracker:function(){function e(){if(window.location.pathname.includes("/watch/")){var e=window.location.pathname.replace("/watch/","");i!=e&&(o++,i=e)}}null==n&&(e(),n=setInterval(e,1e3))},stop_episode_tracker:function(){clearInterval(n)},get_num_episodes_watched:function(){return o}}}}]);