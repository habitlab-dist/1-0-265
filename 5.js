window.habitlab_content_script = true;

(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/generated_libs/libs_frontend/db_utils.js":function(_,e,t){const{import_lib:o}=t("./src/libs_frontend/import_lib.ls");_.exports=o("db_utils")},"./src/libs_common/domain_utils.ls":function(module,exports,__webpack_require__){var ref$,gexport,gexport_module,url_to_domain,domain_to_url,out$=void 0!==exports&&exports||this;ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.url_to_domain=url_to_domain=function(_){return(_.indexOf("://")>-1?_.split("/")[2]:_.split("/")[0]).split(":")[0]},out$.domain_to_url=domain_to_url=function(_){return"http://"+url_to_domain(_)+"/"},gexport_module("domain_utils",function(it){return eval(it)})},"./src/libs_common/time_spent_utils.ls":function(module,exports,__webpack_require__){var moment,prelude,ref$,getkey_dictdict,getdict_for_key_dictdict,getdict_for_key2_dictdict,getCollection,setkey_dict,getkey_dict,url_to_domain,get_days_since_epoch,get_session_id,gexport,gexport_module,get_seconds_spent_on_all_domains_today,get_seconds_spent_on_all_domains_days_before_today,get_seconds_spent_on_domain_all_days,get_seconds_spent_on_domain_days_before_today,get_seconds_spent_on_domain_today,get_minutes_spent_on_domain_today,get_seconds_spent_on_current_domain_today,get_visits_to_domain_today,get_visits_to_domain_days_before_today,get_visits_to_current_domain_today,get_new_session_id_for_domain,get_seconds_spent_on_current_domain_in_session,get_seconds_spent_on_domain_in_session,get_seconds_spent_on_current_domain_in_current_session,out$=void 0!==exports&&exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),prelude=__webpack_require__("./node_modules/prelude-ls/lib/index.js"),ref$=__webpack_require__("./src/generated_libs/libs_frontend/db_utils.js"),getkey_dictdict=ref$.getkey_dictdict,getdict_for_key_dictdict=ref$.getdict_for_key_dictdict,getdict_for_key2_dictdict=ref$.getdict_for_key2_dictdict,getCollection=ref$.getCollection,setkey_dict=ref$.setkey_dict,getkey_dict=ref$.getkey_dict,url_to_domain=__webpack_require__("./src/libs_common/domain_utils.ls").url_to_domain,get_days_since_epoch=__webpack_require__("./src/libs_common/time_utils.ls").get_days_since_epoch,get_session_id=__webpack_require__("./src/libs_common/intervention_info.ls").get_session_id,ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_seconds_spent_on_all_domains_today=get_seconds_spent_on_all_domains_today=async function(){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch())},out$.get_seconds_spent_on_all_domains_days_before_today=get_seconds_spent_on_all_domains_days_before_today=async function(_){return await getdict_for_key2_dictdict("seconds_on_domain_per_day",get_days_since_epoch()-_)},out$.get_seconds_spent_on_domain_all_days=get_seconds_spent_on_domain_all_days=async function(_){var e,t,o,n,s;for(n in e=await getdict_for_key_dictdict("seconds_on_domain_per_day",_),t=get_days_since_epoch(),o={},e)s=e[n],o[t-n]=s;return o},out$.get_seconds_spent_on_domain_days_before_today=get_seconds_spent_on_domain_days_before_today=async function(_,e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("seconds_on_domain_per_day",_,t-e))?o:0},out$.get_seconds_spent_on_domain_today=get_seconds_spent_on_domain_today=async function(_){var e,t;return e=get_days_since_epoch(),null!=(t=await getkey_dictdict("seconds_on_domain_per_day",_,e))?t:0},out$.get_minutes_spent_on_domain_today=get_minutes_spent_on_domain_today=async function(_){var e,t;return e=get_days_since_epoch(),null!=(t=await getkey_dictdict("seconds_on_domain_per_day",_,e))?Math.floor(t/60):0},out$.get_seconds_spent_on_current_domain_today=get_seconds_spent_on_current_domain_today=async function(){var _,e;return _=window.location.hostname,null!=(e=await get_seconds_spent_on_domain_today(_))?e:0},out$.get_visits_to_domain_today=get_visits_to_domain_today=async function(_){var e,t;return e=get_days_since_epoch(),null!=(t=await getkey_dictdict("visits_to_domain_per_day",_,e))?t:0},out$.get_visits_to_domain_days_before_today=get_visits_to_domain_days_before_today=async function(_,e){var t,o;return t=get_days_since_epoch(),null!=(o=await getkey_dictdict("visits_to_domain_per_day",_,t-e))?o:0},out$.get_visits_to_current_domain_today=get_visits_to_current_domain_today=async function(){var _,e;return _=window.location.hostname,null!=(e=await get_visits_to_domain_today(_))?e:0},out$.get_new_session_id_for_domain=get_new_session_id_for_domain=async function(_){var e;return null==(e=await getkey_dict("domain_to_last_session_id",_))?(await setkey_dict("domain_to_last_session_id",_,0),0):(await setkey_dict("domain_to_last_session_id",_,e+1),e+1)},out$.get_seconds_spent_on_current_domain_in_session=get_seconds_spent_on_current_domain_in_session=async function(_){var e,t;return e=window.location.hostname,null!=(t=await get_seconds_spent_on_domain_in_session(e,_))?t:0},out$.get_seconds_spent_on_domain_in_session=get_seconds_spent_on_domain_in_session=async function(_,e){var t;return null!=(t=await getkey_dictdict("seconds_on_domain_per_session",_,e))?t:0},out$.get_seconds_spent_on_current_domain_in_current_session=get_seconds_spent_on_current_domain_in_current_session=async function(){var _,e,t;return _=get_session_id(),e=window.location.hostname,null!=(t=await get_seconds_spent_on_domain_in_session(e,_))?t:0},gexport_module("time_spent_utils",function(it){return eval(it)})},"./src/libs_common/time_utils.ls":function(module,exports,__webpack_require__){var moment,ref$,gexport,gexport_module,get_days_since_epoch,pad_to_two_digits,printable_time_spent_short,printable_time_spent,printable_time_spent_long,out$=void 0!==exports&&exports||this;moment=__webpack_require__("./node_modules/moment/moment.js"),ref$=__webpack_require__("./src/libs_common/gexport.ls"),gexport=ref$.gexport,gexport_module=ref$.gexport_module,out$.get_days_since_epoch=get_days_since_epoch=function(){var _;return _=moment().year(2016).month(0).date(1).hours(0).minutes(0).seconds(0).milliseconds(0),moment().diff(_,"days")},pad_to_two_digits=function(_){var e;return 1===(e=_.toString()).length?"0"+e:e},out$.printable_time_spent_short=printable_time_spent_short=function(_){var e;return _<0?"00:00":(e=Math.floor(_/60))+":"+pad_to_two_digits(_-=60*e)},out$.printable_time_spent=printable_time_spent=function(_){return _<60?_+" seconds":moment().add(_,"seconds").fromNow(!0)},out$.printable_time_spent_long=printable_time_spent_long=function(_){var e,t,o,n;return _<0?"0 seconds":(t=_-3600*(e=Math.floor(_/3600)),t-=60*(o=Math.floor(t/60)),n=[],e>0&&(1===e?n.push("1 hour"):n.push(e+" hours")),(o>0||e>0)&&(1===o?n.push("1 minute"):n.push(o+" minutes")),1===t?n.push("1 second"):t>=0&&n.push(t+" seconds"),n.join(" "))},gexport_module("time_utils",function(it){return eval(it)})}}]);